<f:layout name="Default" />

<f:section name="Title">Show taskgroup "{taskgroup.name}"</f:section>

<f:section name="Content">
	<table>
		<tr>
			<th>Name</th>
			<td>{taskgroup.name}</td>
		</tr>
	</table>

	<div class="row">
		<div class="span6">
			<f:if condition="{taskgroup.tasks}">
				<f:then>
					<ul>
						<f:for each="{taskgroup.tasks}" as="task">
							<li>
								{task.name} {task.description}
							</li>
						</f:for>
					</ul>
				</f:then>
				<f:else>
					<p>No tasks created yet.</p>
				</f:else>
			</f:if>
			<p class="addTask">
				<div id="showNewTaskFields" class="btn btn-primary">Create a new Task</div>
				<f:form id="newTaskForm" method="POST" action="create" object="{newTask}" controller="Task" name="newTask" arguments="{template: template, taskgroup: taskgroup}">
					<div class="newTaskFields">
						<f:form.textfield property="name" id="name" />
						<f:form.submit class="btn btn-mini btn-success" value="Create" />
					</div>
				</f:form>
			</p>
		</div>
	</div>
	<f:link.action action="show" controller="Template" arguments="{template: template}">Back</f:link.action>
</f:section>